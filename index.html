<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="manifest" href="manifest.json" />
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#000000" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="header">
      <div class="header-back">
        <div class="back1"></div>
        <div class="back2"></div>
      </div>
      <div class="header-logo">
        <img class="header-img" src="banner.png" alt="skycash" />
      </div>
    </div>

    <div class="content">
      <p class="code-title">Fotokod:</p>
      <img class="qr" src="qr.png" alt="qr" />
      <img src="mzk.png" alt="mzk" class="mzk" />

      <p class="text">
        75 minutowy metropolialny na linie nocne/ pospieszne/zwykłe
      </p>

      <p class="title">Opis biletu:</p>
      <p class="text" style="margin-bottom: 15px">
        1 godzinny, obowiązuje na liniach nocnych/ pospiesznych/zwykłych z
        moliwością przesiadania się
        <br />
        75 min
      </p>

      <p class="title">Ważny od:</p>
      <p id="timeFrom" class="text">data --------------</p>

      <p class="title">Ważny do:</p>
      <p id="timeTo" class="text">data --------------</p>

      <p class="title">Wystawca biletu:</p>
      <p class="text">MZKZG</p>

      <p class="title">Numer linii:</p>
      <p class="text">3 (tramwaj)</p>

      <p class="title">Liczba sztuk:</p>
      <p class="text">1</p>

      <p class="title">Cena za 1 bilet:</p>
      <p class="text">6,00 PLN</p>

      <p class="title">Numer kontrolny:</p>
      <p class="text">390966</p>

      <p class="title">Numer biletu:</p>
      <p class="text">230185022931</p>

      <p class="title">Bilet zakupiony:</p>
      <p id="timeBuy" class="text">data------------</p>

      <p class="title">Kwota transakcji:</p>
      <p class="text">6,00 PLN</p>

      <p class="title">Numer transakcji:</p>
      <p class="text">1000110000452476664</p>
    </div>

    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("/service-worker.js");
      }

      const timeFrom = document.querySelector("#timeFrom");
      const timeTo = document.querySelector("#timeTo");
      const timeBuy = document.querySelector("#timeBuy");

      const date = new Date();
      const today = new Date();
      //   const today = new Date(date.getTime() - 1 * 45 * 60 * 1000);
      const endDate = new Date(date.getTime() + 1 * 75 * 60 * 1000);
      const yyyy = today.getFullYear();
      let mm = today.getMonth() + 1; // Months start at 0!
      let dd = today.getDate();
      let thh = today.getHours();
      let minutes = today.getMinutes();
      let tss = today.getSeconds();

      let mmEnd = endDate.getMonth() + 1; // Months start at 0!
      let ddEnd = endDate.getDate();
      let thhe = endDate.getHours();
      let minutesEnd = endDate.getMinutes();
      let tsse = endDate.getSeconds();

      if (dd < 10) dd = "0" + dd;
      if (mm < 10) mm = "0" + mm;
      if (thh < 10) thh = "0" + thh;
      if (minutes < 10) minutes = "0" + minutes;
      if (tss < 10) tss = "0" + tss;

      if (ddEnd < 10) ddEnd = "0" + ddEnd;
      if (mmEnd < 10) mmEnd = "0" + mmEnd;
      if (thhe < 10) thhe = "0" + thhe;
      if (minutesEnd < 10) minutesEnd = "0" + minutesEnd;
      if (tsse < 10) tsse = "0" + tsse;

      const formattedToday = dd + "-" + mm + "-" + yyyy;
      const formattedTodayEnd = ddEnd + "-" + mmEnd + "-" + yyyy;

      const time = thh + ":" + minutes + ":" + tss;
      const timeEnd = thhe + ":" + minutesEnd + ":" + tsse;

      timeFrom.textContent = `${formattedToday} ${time}`;
      timeBuy.textContent = `${formattedToday} ${time}`;
      timeTo.textContent = `${formattedToday} ${timeEnd}`;
    </script>
  </body>
</html>
